{"ast":null,"code":"import * as actions from './actionTypes';\nlet lastId = 0;\nfunction get_full_data() {\n  return fetch('/api/groups').then(r => {\n    return r;\n  }).catch(err => {\n    return err;\n  });\n}\nexport default function reducer(state = [], action) {\n  switch (action.type) {\n    case actions.GET_ALL_INFO_FROM_DB:\n      return get_full_data().then(res => {\n        res.json().then(res => {\n          console.log('res', res);\n          return res;\n        });\n      });\n    //     case actions.CHOOSE_GROUP:\n    //           return state.then(res => {\n    //             return res.filter(gr => \"Москва\" === gr['group_name'])\n    //           })\n    //        return state.then( res => {\n    //        console.log('old', res)\n    //        res.filter(gr => \"Москва\" === gr['group_name'])\n    //        console.log('new', res)\n    //        let ans = []\n    //        for (const node of res) {\n    //         console.log(node, action.payload.group)\n    //             if (node['group_name'] === action.payload.group)\n    //             {ans.push(node)}\n    //        }\n    //        console.log('new', ans )\n    //        return ans\n    //});\n    //     case actions.TASK_ADD:\n    //       return [...state, {\n    //         id: ++lastId,\n    //         title: action.payload.title,\n    //         completed: false,\n    //       }];\n    //\n    //     case actions.TASK_TOGGLE:\n    //       return state.map(task => {\n    //         if (task.id === action.payload.id)\n    //           return { ...task, completed: !task.completed }\n    //         return task;\n    //       });\n    //\n    //     case actions.TASK_REMOVE:\n    //       return state.filter(task => action.payload.id !== task.id);\n    //\n    //     default:\n    //       return state;\n  }\n}","map":{"version":3,"names":["actions","lastId","get_full_data","fetch","then","r","catch","err","reducer","state","action","type","GET_ALL_INFO_FROM_DB","res","json","console","log"],"sources":["C:/Users/User/Desktop/Тестовое задание Vue,React,Express,SQL от 26.10.2022/frontend/src/store/reducer.js"],"sourcesContent":["import * as actions from './actionTypes';\r\n\r\nlet lastId = 0;\r\n\r\nfunction get_full_data(){\r\n    return fetch('/api/groups')\r\n        .then(r => {\r\n            return r\r\n        })\r\n        .catch(err => {\r\n            return err\r\n        })\r\n}\r\n\r\n\r\nexport default function reducer(state = [], action) {\r\n  switch (action.type) {\r\n    case actions.GET_ALL_INFO_FROM_DB:\r\n        return get_full_data().then(res => {\r\n            res.json().then(res=> {\r\n            console.log('res', res);\r\n                return res\r\n            })\r\n        })\r\n//     case actions.CHOOSE_GROUP:\r\n//           return state.then(res => {\r\n//             return res.filter(gr => \"Москва\" === gr['group_name'])\r\n//           })\r\n//        return state.then( res => {\r\n//        console.log('old', res)\r\n//        res.filter(gr => \"Москва\" === gr['group_name'])\r\n//        console.log('new', res)\r\n//        let ans = []\r\n//        for (const node of res) {\r\n//         console.log(node, action.payload.group)\r\n//             if (node['group_name'] === action.payload.group)\r\n//             {ans.push(node)}\r\n//        }\r\n//        console.log('new', ans )\r\n//        return ans\r\n       //});\r\n//     case actions.TASK_ADD:\r\n//       return [...state, {\r\n//         id: ++lastId,\r\n//         title: action.payload.title,\r\n//         completed: false,\r\n//       }];\r\n//\r\n//     case actions.TASK_TOGGLE:\r\n//       return state.map(task => {\r\n//         if (task.id === action.payload.id)\r\n//           return { ...task, completed: !task.completed }\r\n//         return task;\r\n//       });\r\n//\r\n//     case actions.TASK_REMOVE:\r\n//       return state.filter(task => action.payload.id !== task.id);\r\n//\r\n//     default:\r\n//       return state;\r\n  }\r\n}"],"mappings":"AAAA,OAAO,KAAKA,OAAO,MAAM,eAAe;AAExC,IAAIC,MAAM,GAAG,CAAC;AAEd,SAASC,aAAaA,CAAA,EAAE;EACpB,OAAOC,KAAK,CAAC,aAAa,CAAC,CACtBC,IAAI,CAACC,CAAC,IAAI;IACP,OAAOA,CAAC;EACZ,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;IACV,OAAOA,GAAG;EACd,CAAC,CAAC;AACV;AAGA,eAAe,SAASC,OAAOA,CAACC,KAAK,GAAG,EAAE,EAAEC,MAAM,EAAE;EAClD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKX,OAAO,CAACY,oBAAoB;MAC7B,OAAOV,aAAa,CAAC,CAAC,CAACE,IAAI,CAACS,GAAG,IAAI;QAC/BA,GAAG,CAACC,IAAI,CAAC,CAAC,CAACV,IAAI,CAACS,GAAG,IAAG;UACtBE,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEH,GAAG,CAAC;UACnB,OAAOA,GAAG;QACd,CAAC,CAAC;MACN,CAAC,CAAC;IACV;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACO;IACP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACE;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}